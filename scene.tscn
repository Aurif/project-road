[gd_scene load_steps=23 format=4 uid="uid://cohrjqkmqdjmb"]

[ext_resource type="Shader" uid="uid://dpyrlnbul5rvm" path="res://components/orgs/deuter.gdshader" id="1_nxogm"]
[ext_resource type="TileSet" uid="uid://c4kaknsp4ijjj" path="res://assets/temp/tilemap.tres" id="2_3253y"]
[ext_resource type="Script" uid="uid://cq7eqmlpo2mn8" path="res://components/atms/tile_bg/tile_bg.gd" id="3_3253y"]
[ext_resource type="Script" uid="uid://psrx83nvul1l" path="res://components/atms/tile_roads/tile_roads.gd" id="4_u3cyc"]
[ext_resource type="Script" uid="uid://cny1d0ajftg1d" path="res://components/orgs/movement/movement.gd" id="5_m7jmp"]
[ext_resource type="Script" uid="uid://cyq5tarrns10w" path="res://components/orgs/car/car.gd" id="6_xlvrw"]
[ext_resource type="Texture2D" uid="uid://d1ut7qhdjsjk1" path="res://assets/sprites/car.png" id="6_y2354"]
[ext_resource type="Script" uid="uid://c2kbxbhnfoq8d" path="res://components/orgs/car/car_animation_def.gd" id="7_73fnb"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3253y"]
shader = ExtResource("1_nxogm")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_u3cyc"]
noise_type = 0
frequency = 0.0124
fractal_octaves = 1
fractal_lacunarity = 21.0

[sub_resource type="Resource" id="Resource_5juve"]
script = ExtResource("7_73fnb")
starting_pos = Vector2(259, 191)
end_pos = Vector2(380, 191)
sprite = NodePath("Right")
metadata/_custom_type_script = "uid://c2kbxbhnfoq8d"

[sub_resource type="Resource" id="Resource_xlvrw"]
script = ExtResource("7_73fnb")
starting_pos = Vector2(307, 123)
end_pos = Vector2(307, 236)
sprite = NodePath("Down")
metadata/_custom_type_script = "uid://c2kbxbhnfoq8d"

[sub_resource type="Resource" id="Resource_73fnb"]
script = ExtResource("7_73fnb")
starting_pos = Vector2(381, 165)
end_pos = Vector2(260, 165)
sprite = NodePath("Left")
metadata/_custom_type_script = "uid://c2kbxbhnfoq8d"

[sub_resource type="Resource" id="Resource_fy5k1"]
script = ExtResource("7_73fnb")
starting_pos = Vector2(333, 236)
end_pos = Vector2(333, 123)
sprite = NodePath("Up")
metadata/_custom_type_script = "uid://c2kbxbhnfoq8d"

[sub_resource type="AtlasTexture" id="AtlasTexture_ni31j"]
atlas = ExtResource("6_y2354")
region = Rect2(48, 0, 36, 24)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_5juve"]
load_path = "res://.godot/imported/car.png-c1099737cfd460db4648222bf22ca821.ctex"

[sub_resource type="AtlasTexture" id="AtlasTexture_fy5k1"]
atlas = SubResource("CompressedTexture2D_5juve")
region = Rect2(2, 0, 36, 24)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_y2354"]
load_path = "res://.godot/imported/car.png-c1099737cfd460db4648222bf22ca821.ctex"

[sub_resource type="AtlasTexture" id="AtlasTexture_xlvrw"]
atlas = SubResource("CompressedTexture2D_y2354")
region = Rect2(32, 26, 22, 29)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_5c1cw"]
load_path = "res://.godot/imported/car.png-c1099737cfd460db4648222bf22ca821.ctex"

[sub_resource type="AtlasTexture" id="AtlasTexture_akxrc"]
atlas = SubResource("CompressedTexture2D_5c1cw")
region = Rect2(0, 26, 22, 29)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nxogm"]
shader = ExtResource("1_nxogm")

[node name="Scene" type="Node2D"]
material = SubResource("ShaderMaterial_3253y")

[node name="Positioner" type="Node2D" parent="."]
position = Vector2(-8, -4)

[node name="Ground" type="TileMapLayer" parent="Positioner"]
tile_map_data = PackedByteArray("AAAHAAgAAAAHABMAAAAHAAkAAAAHABYAAAAHAAoAAAALABMAAAAHAAsAAAAJABMAAAAHAAwAAAALABMAAAAHAA0AAAAHABMAAAAHAA4AAAAHABYAAAAAAAgAAAAHABMAAAAAAAkAAAAHABYAAAAAAAoAAAALABMAAAAAAAsAAAAJABMAAAAAAAwAAAALABMAAAAAAA0AAAAHABMAAAAAAA4AAAAHABYAAAABAAgAAAAHABMAAAABAAkAAAAHABYAAAABAAoAAAALABMAAAABAAsAAAAJABMAAAABAAwAAAALABMAAAABAA0AAAAHABMAAAABAA4AAAAHABYAAAACAAgAAAAHABMAAAACAAkAAAAHABYAAAACAAoAAAALABMAAAACAAsAAAAJABMAAAACAAwAAAALABMAAAACAA0AAAAHABMAAAACAA4AAAAHABYAAAADAAgAAAAHABMAAAADAAkAAAAHABYAAAADAAoAAAALABMAAAADAAsAAAAJABMAAAADAAwAAAALABMAAAADAA0AAAAHABMAAAADAA4AAAAHABYAAAAEAAgAAAAHABMAAAAEAAkAAAAHABYAAAAEAAoAAAALABMAAAAEAAsAAAAJABMAAAAEAAwAAAALABMAAAAEAA0AAAAHABMAAAAEAA4AAAAHABYAAAAFAAgAAAAHABMAAAAFAAkAAAAHABYAAAAFAAoAAAALABMAAAAFAAsAAAAJABMAAAAFAAwAAAALABMAAAAFAA0AAAAHABMAAAAFAA4AAAAHABYAAAAGAAgAAAAHABMAAAAGAAkAAAAHABYAAAAGAAoAAAALABMAAAAGAAsAAAAJABMAAAAGAAwAAAALABMAAAAGAA0AAAAHABMAAAAGAA4AAAAHABYAAAAIAAoAAAALABMAAAAIAAsAAAAJABMAAAAIAAwAAAALABMAAAAIAA0AAAAHABMAAAAIAA4AAAAHABYAAAAJAAoAAAALABMAAAAJAAsAAAAJABMAAAAJAAwAAAALABMAAAAJAA0AAAAHABMAAAAJAA4AAAAHABYAAAAKAAoAAAALABMAAAAKAAsAAAAJABMAAAAKAAwAAAALABMAAAAKAA0AAAAHABMAAAAKAA4AAAAHABYAAAALAAoAAAALABMAAAALAAsAAAAJABMAAAALAAwAAAALABMAAAALAA0AAAAHABMAAAALAA4AAAAHABYAAAAMAAwAAAALABMAAAAMAA0AAAAHABMAAAAMAA4AAAAHABYAAAANAAwAAAALABMAAAANAA0AAAAHABMAAAANAA4AAAAHABYAAAAOAAwAAAALABMAAAAOAA0AAAAHABMAAAAOAA4AAAAHABYAAAAPAAgAAAAHABMAAAAPAAkAAAAHABYAAAAPAAoAAAALABMAAAAPAAsAAAAJABMAAAAPAAwAAAALABMAAAAPAA0AAAAHABMAAAAPAA4AAAAHABYAAAAQAAsAAAAJABMAAAAQAAwAAAALABMAAAAQAA0AAAAHABMAAAAQAA4AAAAHABYAAAAYAAgAAAAHABMAAAAYAAkAAAAHABYAAAAYAAoAAAALABMAAAAYAAsAAAAJABMAAAAYAAwAAAALABMAAAAYAA0AAAAHABMAAAAYAA4AAAAHABYAAAAZAAgAAAAHABMAAAAZAAkAAAAHABYAAAAZAAoAAAALABMAAAAZAAsAAAAJABMAAAAZAAwAAAALABMAAAAZAA0AAAAHABMAAAAZAA4AAAAHABYAAAAaAAgAAAAHABMAAAAaAAkAAAAHABYAAAAaAAoAAAALABMAAAAaAAsAAAAJABMAAAAaAAwAAAALABMAAAAaAA0AAAAHABMAAAAaAA4AAAAHABYAAAAbAAgAAAAHABMAAAAbAAkAAAAHABYAAAAbAAoAAAALABMAAAAbAAsAAAAJABMAAAAbAAwAAAALABMAAAAbAA0AAAAHABMAAAAbAA4AAAAHABYAAAAcAAgAAAAHABMAAAAcAAkAAAAHABYAAAAcAAoAAAALABMAAAAcAAsAAAAJABMAAAAcAAwAAAALABMAAAAcAA0AAAAHABMAAAAcAA4AAAAHABYAAAAdAAgAAAAHABMAAAAdAAkAAAAHABYAAAAdAAoAAAALABMAAAAdAAsAAAAJABMAAAAdAAwAAAALABMAAAAdAA0AAAAHABMAAAAdAA4AAAAHABYAAAAeAAgAAAAHABMAAAAeAAkAAAAHABYAAAAeAAoAAAALABMAAAAeAAsAAAAJABMAAAAeAAwAAAALABMAAAAeAA0AAAAHABMAAAAeAA4AAAAHABYAAAAfAAgAAAAHABMAAAAfAAkAAAAHABYAAAAfAAoAAAALABMAAAAfAAsAAAAJABMAAAAfAAwAAAALABMAAAAfAA0AAAAHABMAAAAfAA4AAAAHABYAAAAgAAgAAAAHABMAAAAgAAkAAAAHABYAAAAgAAoAAAALABMAAAAgAAsAAAAJABMAAAAgAAwAAAALABMAAAAgAA0AAAAHABMAAAAgAA4AAAAHABYAAAAhAAgAAAAHABMAAAAhAAkAAAAHABYAAAAhAAoAAAALABMAAAAhAAsAAAAJABMAAAAhAAwAAAALABMAAAAhAA0AAAAHABMAAAAhAA4AAAAHABYAAAAiAAgAAAAHABMAAAAiAAkAAAAHABYAAAAiAAoAAAALABMAAAAiAAsAAAAJABMAAAAiAAwAAAALABMAAAAiAA0AAAAHABMAAAAiAA4AAAAHABYAAAAjAAgAAAAHABMAAAAjAAkAAAAHABYAAAAjAAoAAAALABMAAAAjAAsAAAAJABMAAAAjAAwAAAALABMAAAAjAA0AAAAHABMAAAAjAA4AAAAHABYAAAAkAAgAAAAHABMAAAAkAAkAAAAHABYAAAAkAAoAAAALABMAAAAkAAsAAAAJABMAAAAkAAwAAAALABMAAAAkAA0AAAAHABMAAAAkAA4AAAAHABYAAAAlAAgAAAAHABMAAAAlAAkAAAAHABYAAAAlAAoAAAALABMAAAAlAAsAAAAJABMAAAAlAAwAAAALABMAAAAlAA0AAAAHABMAAAAlAA4AAAAHABYAAAAmAAgAAAAHABMAAAAmAAkAAAAHABYAAAAmAAoAAAALABMAAAAmAAsAAAAJABMAAAAmAAwAAAALABMAAAAmAA0AAAAHABMAAAAmAA4AAAAHABYAAAAnAAgAAAAHABMAAAAnAAkAAAAHABYAAAAnAAoAAAALABMAAAAnAAsAAAAJABMAAAAnAAwAAAALABMAAAAnAA0AAAAHABMAAAAnAA4AAAAHABYAAAAoAAgAAAAHABMAAAAoAAkAAAAHABYAAAAoAAoAAAALABMAAAAoAAsAAAAJABMAAAAoAAwAAAALABMAAAAoAA0AAAAHABMAAAAoAA4AAAAHABYAAAARAAQAAAAGABQAAAASAAQAAAAIABQAAAATAAQAAAALABMAAAAUAAQAAAAJABQAAAAVAAQAAAALABMAAAAWAAQAAAAGABQAAAAXAAQAAAAIABQAAAARAAAAAAAGABQAAAASAAAAAAAIABQAAAATAAAAAAALABMAAAAUAAAAAAAJABQAAAAVAAAAAAALABMAAAAWAAAAAAAGABQAAAAXAAAAAAAIABQAAAARAAEAAAAGABQAAAASAAEAAAAIABQAAAATAAEAAAALABMAAAAUAAEAAAAJABQAAAAVAAEAAAALABMAAAAWAAEAAAAGABQAAAAXAAEAAAAIABQAAAARAAIAAAAGABQAAAASAAIAAAAIABQAAAATAAIAAAALABMAAAAUAAIAAAAJABQAAAAVAAIAAAALABMAAAAWAAIAAAAGABQAAAAXAAIAAAAIABQAAAARAAMAAAAGABQAAAASAAMAAAAIABQAAAATAAMAAAALABMAAAAUAAMAAAAJABQAAAAVAAMAAAALABMAAAAWAAMAAAAGABQAAAAXAAMAAAAIABQAAAARAAUAAAAGABQAAAASAAUAAAAIABQAAAATAAUAAAALABMAAAAUAAUAAAAJABQAAAAVAAUAAAALABMAAAAWAAUAAAAGABQAAAAXAAUAAAAIABQAAAARAAYAAAAGABQAAAASAAYAAAAIABQAAAATAAYAAAALABMAAAAUAAYAAAAJABQAAAAVAAYAAAALABMAAAAWAAYAAAAGABQAAAAXAAYAAAAIABQAAAAVAAcAAAALABMAAAAWAAcAAAAGABQAAAAXAAcAAAAIABQAAAARAA8AAAAGABQAAAASAA8AAAAIABQAAAATAA8AAAALABMAAAAUAA8AAAAJABQAAAAVAA8AAAALABMAAAAWAA8AAAAGABQAAAAXAA8AAAAIABQAAAARABAAAAAGABQAAAASABAAAAAIABQAAAATABAAAAALABMAAAAUABAAAAAJABQAAAAVABAAAAALABMAAAAWABAAAAAGABQAAAAXABAAAAAIABQAAAARABEAAAAGABQAAAASABEAAAAIABQAAAATABEAAAALABMAAAAUABEAAAAJABQAAAAVABEAAAALABMAAAAWABEAAAAGABQAAAAXABEAAAAIABQAAAARABIAAAAGABQAAAASABIAAAAIABQAAAATABIAAAALABMAAAAUABIAAAAJABQAAAAVABIAAAALABMAAAAWABIAAAAGABQAAAAXABIAAAAIABQAAAARABMAAAAGABQAAAASABMAAAAIABQAAAATABMAAAALABMAAAAUABMAAAAJABQAAAAVABMAAAALABMAAAAWABMAAAAGABQAAAAXABMAAAAIABQAAAARABQAAAAGABQAAAASABQAAAAIABQAAAATABQAAAALABMAAAAUABQAAAAJABQAAAAVABQAAAALABMAAAAWABQAAAAGABQAAAAXABQAAAAIABQAAAARABUAAAAGABQAAAASABUAAAAIABQAAAATABUAAAALABMAAAAUABUAAAAJABQAAAAVABUAAAALABMAAAAWABUAAAAGABQAAAAXABUAAAAIABQAAAARABYAAAAGABQAAAASABYAAAAIABQAAAATABYAAAALABMAAAAUABYAAAAJABQAAAAVABYAAAALABMAAAAWABYAAAAGABQAAAAXABYAAAAIABQAAAAQAAgAAAAHABMAAAAQAAkAAAAHABYAAAAQAAoAAAALABMAAAARAAcAAAAGABQAAAASAAcAAAAIABQAAAATAAcAAAALABMAAAAUAAcAAAAJABQAAAARAAgAAAAHABQAAAARAAkAAAAHABYAAAARAAoAAAALABMAAAARAAsAAAAJABMAAAARAAwAAAALABMAAAARAA0AAAAHABMAAAARAA4AAAAHABQAAAASAAgAAAAIABQAAAASAAkAAAAIABYAAAASAAoAAAAJABYAAAASAAsAAAAJABYAAAASAAwAAAAJABYAAAASAA0AAAAIABMAAAASAA4AAAAIABQAAAATAAgAAAALABMAAAATAAkAAAAMABYAAAATAAoAAAALABMAAAATAAsAAAALABMAAAATAAwAAAALABMAAAATAA0AAAAMABYAAAATAA4AAAALABMAAAAUAAgAAAAJABQAAAAUAAkAAAAMABYAAAAUAAoAAAALABMAAAAUAAsAAAALABMAAAAUAAwAAAALABMAAAAUAA0AAAAMABYAAAAUAA4AAAAJABQAAAAVAAgAAAALABMAAAAVAAkAAAAMABYAAAAVAAoAAAALABMAAAAVAAsAAAALABMAAAAVAAwAAAALABMAAAAVAA0AAAAMABYAAAAVAA4AAAALABMAAAAWAAgAAAAGABQAAAAWAAkAAAAGABYAAAAWAAoAAAAJABYAAAAWAAsAAAAJABYAAAAWAAwAAAAJABYAAAAWAA0AAAAGABMAAAAWAA4AAAAGABQAAAAXAAgAAAAHABQAAAAXAAkAAAAHABYAAAAXAAoAAAALABMAAAAXAAsAAAAJABMAAAAXAAwAAAALABMAAAAXAA0AAAAHABMAAAAXAA4AAAAHABQAAAAIAAgAAAAHABMAAAAIAAkAAAAHABYAAAAJAAgAAAAHABMAAAAJAAkAAAAHABYAAAAKAAgAAAAHABMAAAAKAAkAAAAHABYAAAALAAgAAAAHABMAAAALAAkAAAAHABYAAAAMAAkAAAAHABYAAAAMAAoAAAALABMAAAANAAkAAAAHABYAAAANAAoAAAALABMAAAAOAAkAAAAHABYAAAAOAAoAAAALABMAAAAMAAsAAAAJABMAAAANAAsAAAAJABMAAAAOAAsAAAAJABMAAAAMAAgAAAAHABMAAAANAAgAAAAHABMAAAAOAAgAAAAHABMAAAAEABEAAAAHABMAAAAEABIAAAAHABYAAAAEABMAAAALABMAAAAEABQAAAAJABMAAAAEABUAAAALABMAAAAEABYAAAAHABMAAAAEABcAAAAHABYAAAAEAP//AAAHABMAAAAEAAAAAAAHABYAAAAEAAEAAAALABMAAAAEAAIAAAAJABMAAAAEAAMAAAALABMAAAAEAAQAAAAHABMAAAAEAAUAAAAHABYAAAA=")
tile_set = ExtResource("2_3253y")

[node name="Background" type="Node2D" parent="Positioner/Ground"]
script = ExtResource("3_3253y")
noise = SubResource("FastNoiseLite_u3cyc")

[node name="Roads" type="Node2D" parent="Positioner/Ground"]
script = ExtResource("4_u3cyc")
grid_size = Rect2i(17, 8, 120, 120)
tile_size = Vector2i(7, 7)

[node name="Movement" type="Node" parent="Positioner/Ground" node_paths=PackedStringArray("tile_generators")]
script = ExtResource("5_m7jmp")
working_area = Rect2i(-2, -2, 44, 26)
tile_generators = [NodePath("../Background"), NodePath("../Roads")]
move_distance = 120

[node name="Car" type="Node2D" parent="."]
script = ExtResource("6_xlvrw")
animation_defs = Dictionary[Vector2i, ExtResource("7_73fnb")]({
Vector2i(-1, 0): SubResource("Resource_73fnb"),
Vector2i(0, -1): SubResource("Resource_fy5k1"),
Vector2i(0, 1): SubResource("Resource_xlvrw"),
Vector2i(1, 0): SubResource("Resource_5juve")
})

[node name="Right" type="Sprite2D" parent="Car"]
position = Vector2(380, 191)
texture = SubResource("AtlasTexture_ni31j")

[node name="Left" type="Sprite2D" parent="Car"]
position = Vector2(260, 165)
texture = SubResource("AtlasTexture_fy5k1")

[node name="Down" type="Sprite2D" parent="Car"]
position = Vector2(307, 236)
texture = SubResource("AtlasTexture_xlvrw")
offset = Vector2(0, 0.5)

[node name="Up" type="Sprite2D" parent="Car"]
position = Vector2(333, 123)
texture = SubResource("AtlasTexture_akxrc")
offset = Vector2(0, 0.5)

[node name="Shader" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_nxogm")
offset_right = 640.0
offset_bottom = 360.0

[connection signal="MoveStarted" from="Positioner/Ground/Movement" to="Car" method="animate_move"]
